\ESHBol{}\textcolor[HTML]{346604}{class}\ESHSpace{}\textcolor[HTML]{204A87}{AllowWideCharsGlyphScaler}(GlyphScaler):\ESHEol
\ESHBol{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\textcolor[HTML]{346604}{def}\ESHSpace{}\textcolor[HTML]{A40000}{\_\_init\_\_}(\textcolor[HTML]{346604}{self},\ESHSpace{}cell\_width,\ESHSpace{}avg\_width):\ESHEol
\ESHBol{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\textcolor[HTML]{5C3566}{"""Construct\ESHSpace{}instance\ESHSpace{}based\ESHSpace{}on\ESHSpace{}target\ESHSpace{}CELL\_WIDTH\ESHSpace{}and\ESHSpace{}source\ESHSpace{}AVG\_WIDTH."""}\ESHEol
\ESHBol{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}GlyphScaler.\_\_init\_\_(\textcolor[HTML]{346604}{self},\ESHSpace{}cell\_width)\ESHEol
\ESHBol{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\textcolor[HTML]{346604}{self}.\textcolor[HTML]{B35000}{avg\_width}\ESHSpace{}=\ESHSpace{}avg\_width\ESHEol
\ESHBol{}\ESHEmptyLine{}\ESHEol
\ESHBol{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\textcolor[HTML]{346604}{def}\ESHSpace{}\textcolor[HTML]{A40000}{scale}(\textcolor[HTML]{346604}{self},\ESHSpace{}glyph):\ESHEol
\ESHBol{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\textcolor[HTML]{346604}{if}\ESHSpace{}glyph.width\ESHSpace{}{>}\ESHSpace{}0:\ESHEol
\ESHBol{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\textcolor[HTML]{B35000}{new\_width\_in\_cells}\ESHSpace{}=\ESHSpace{}\textcolor[HTML]{75507B}{int}(math.ceil(0.75\ESHSpace{}*\ESHSpace{}glyph.width\ESHSpace{}/\ESHSpace{}\textcolor[HTML]{346604}{self}.avg\_width))\ESHEol
\ESHBol{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSlantItalic{\textcolor[HTML]{5F615C}{\#\ESHSpace{}if\ESHSpace{}new\_width\_in\_cells\ESHSpace{}{>}\ESHSpace{}1:}}\ESHEol
\ESHBol{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSlantItalic{\textcolor[HTML]{5F615C}{\#\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}print("\{\}\ESHSpace{}is\ESHSpace{}\{\}\ESHSpace{}cells\ESHSpace{}wide\ESHSpace{}(\{\}\ESHSpace{}\ESHDash{}{>}\ESHSpace{}\{\})".format(...))}}\ESHEol
\ESHBol{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}\ESHSpace{}GlyphScaler.set\_width(glyph,\ESHSpace{}new\_width\_in\_cells\ESHSpace{}*\ESHSpace{}\textcolor[HTML]{346604}{self}.cell\_width)